=== Rigctl Test Results ===
Test Date: Thu Jul 10 09:10:08 AM EDT 2025

Command: rigctl -m 2028 -r /tmp/trusdx_cat V VFOA
Result: Success (no output, no errors)

Command: rigctl -m 2028 -r /tmp/trusdx_cat F 7074000  
Result: Success (no output, no errors)

Command: rigctl -m 2028 -r /tmp/trusdx_cat f
Result: 7074000

VERIFIED: No 'unsupported VFO None' error messages!

=== Verbose Rigctl Test ===
rigctl.c(532) Startup: rigctl -m 2028 -r /tmp/trusdx_cat -vvvv V VFOA
rigctl Hamlib 4.6.3 2025-06-10T00:52:44Z SHA=371db9 64-bit
Report bugs to <hamlib-developer@lists.sourceforge.net>

rig_init: 2038 time test passed
rig_init: rig_model=Kenwood TS-480 20250515.3
rig_init: rig has VFO_A
rig_init: rig has VFO_B
*1:ts480.c(1212):ts480_init entered
kenwood_init called, version 20250515/20250515.3
kenwood.c(899):kenwood_init returning2(0) 
*1:ts480.c(1227):ts480_init returning(0) 
rig_set_conf called
rig_confparam_lookup called for rig_pathname
rig_set_conf: rig_pathname='/tmp/trusdx_cat'
rig.c(970):rig_open entered
serial_open: /tmp/trusdx_cat
rig_open: 0x612ee654be34 rs->comm_state==1?=1
*1:rig.c(6899):rig_get_powerstat entered
**2:kenwood.c(5382):kenwood_get_powerstat entered
kenwood_safe_transaction called, cmd=PS, expected=3
kenwood_transaction called cmd=PS
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
**2:kenwood.c(5428):kenwood_get_powerstat returning(0) 
*1:rig.c(6926):rig_get_powerstat returning(0) 
*1:kenwood.c(921):kenwood_open entered
**2:kenwood.c(1206):kenwood_get_id entered
kenwood_transaction called cmd=ID
kenwood.c(713):kenwood_transaction returning2(0) 
**2:kenwood.c(1213):kenwood_get_id returning(0) 
**2:rig.c(6899):rig_get_powerstat entered
***3:kenwood.c(5382):kenwood_get_powerstat entered
kenwood_safe_transaction called, cmd=PS, expected=3
kenwood_transaction called cmd=PS
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
***3:kenwood.c(5428):kenwood_get_powerstat returning(0) 
**2:rig.c(6926):rig_get_powerstat returning(0) 
**2:rig.c(3463):rig_get_vfo entered
rig_lock: client lock engaged
***3:kenwood.c(1837):kenwood_get_vfo_if entered
****4:kenwood.c(1228):kenwood_get_if entered
kenwood_safe_transaction called, cmd=IF, expected=37
kenwood_transaction called cmd=IF
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood_safe_transaction: wrong answer; len for cmd IF: expected = 37, got 39
kenwood.c(791):kenwood_safe_transaction returning2(-8) Protocol error

****4:kenwood.c(1245):kenwood_get_if returning(-8) Protocol error

***3:kenwood.c(1848):kenwood_get_vfo_if returning(-8) Protocol error

rig_get_vfo: returning -8(****4:kenwood.c(1228):kenwood_get_if entered
kenwood_safe_transaction called, cmd=IF, expected=37
kenwood_transaction called cmd=IF
kenwood_transaction: cmdstr = IF
read_string_generic called, rxmax=4095 direct=1, expected_len=1
write_block(): TX 3 bytes
read_string_generic called, rxmax=128 direct=1, expected_len=1
read_string_generic(): RX 40 characters, direct=1
kenwood_transaction: read_string len=40 'IF0000707400000000000002000008000000000;'
kenwood_transaction: returning RIG_OK, retval=0
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood_safe_transaction: wrong answer; len for cmd IF: expected = 37, got 39
kenwood.c(791):kenwood_safe_transaction returning2(-8) Protocol error

****4:kenwood.c(1245):kenwood_get_if returning(-8) Protocol error

***3:kenwood.c(1848):kenwood_get_vfo_if returning(-8) Protocol error

Protocol error
Protocol error
)
**2:rig_get_vfo: elapsed=59ms
rig_lock: client lock disengaged
**2:rig.c(3534):rig_get_vfo returning(-8) Protocol error

kenwood_open: found the right driver for TS-480(2028)
**2:kenwood.c(5266):kenwood_get_trn entered
kenwood_safe_transaction called, cmd=AI, expected=3
kenwood_transaction called cmd=AI
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
**2:kenwood.c(5303):kenwood_get_trn returning(0) 
**2:kenwood.c(1714):kenwood_get_split_vfo_if entered
***3:kenwood.c(1228):kenwood_get_if entered
kenwood_safe_transaction called, cmd=IF, expected=37
kenwood_transaction called cmd=IF
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood_safe_transaction: wrong answer; len for cmd IF: expected = 37, got 39
kenwood.c(791):kenwood_safe_transaction returning2(-8) Protocol error

***3:kenwood.c(1245):kenwood_get_if returning(-8) Protocol error

**2:kenwood.c(1725):kenwood_get_split_vfo_if returning(-8) Protocol error

kenwood_open: ***3:kenwood.c(1228):kenwood_get_if entered
kenwood_safe_transaction called, cmd=IF, expected=37
kenwood_transaction called cmd=IF
kenwood_transaction: cmdstr = IF
read_string_generic called, rxmax=4095 direct=1, expected_len=1
write_block(): TX 3 bytes
read_string_generic called, rxmax=128 direct=1, expected_len=1
read_string_generic(): RX 40 characters, direct=1
kenwood_transaction: read_string len=40 'IF0000707400000000000002000008000000000;'
kenwood_transaction: returning RIG_OK, retval=0
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood_safe_transaction: wrong answer; len for cmd IF: expected = 37, got 39
kenwood.c(791):kenwood_safe_transaction returning2(-8) Protocol error

***3:kenwood.c(1245):kenwood_get_if returning(-8) Protocol error

**2:kenwood.c(1725):kenwood_get_split_vfo_if returning(-8) Protocol error

Protocol error
Protocol error

kenwood_open: priv->tx_vfo=None
*1:kenwood.c(1143):kenwood_open returning(0) 
*1:rig.c(3463):rig_get_vfo entered
*1:rig_get_vfo: elapsed=0ms
*1:rig.c(3492):rig_get_vfo returning(0) 
*1:rig.c(8424):async_data_handler_start entered
*1:rig.c(8431):async_data_handler_start returning(0) 
*1:rig.c(8468):morse_data_handler_start entered
rig_lock: client lock engaged
**2:ts480.c(500):kenwood_ts480_get_level entered
***3:kenwood.c(3725):kenwood_get_level entered
rig_setting2idx called
rig_setting2idx: idx=14
kenwood_safe_transaction called, cmd=KS, expected=5
kenwood_transaction called cmd=KS
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
***3:kenwood.c(4282):kenwood_get_level returning(0) 
**2:ts480.c(752):kenwood_ts480_get_level returning(0) 
rig_lock: client lock disengaged
morse_data_handler_start(8486): keyspd=20
*1:rig.c(8498):morse_data_handler_start returning(0) 
*1:rig.c(2452):rig_get_freq entered
rig_get_freq called vfo=VFOA
rig_get_freq(2470) called vfo=VFOA
morse_data_handler: Starting morse data handler thread
rig.c(2479) vfo=VFOA, curr_vfo=None
rig_lock: client lock engaged
rig_get_freq(2585): vfo_opt=0, model=2028
**2:kenwood.c(2056):kenwood_get_freq entered
kenwood_safe_transaction called, cmd=FA, expected=13
kenwood_transaction called cmd=FA
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
**2:kenwood.c(2126):kenwood_get_freq returning(0) 
*1:rig_get_freq: elapsed=8ms
rig_lock: client lock disengaged
*1:rig.c(2722):rig_get_freq returning(0) 
*1:network.c(1589):network_multicast_publisher_start entered
network.c(1598): multicast publisher address=0.0.0.0, port=4532
*1:network.c(1618):network_multicast_publisher_start returning(0) 
*1:network.c(1800):network_multicast_receiver_start entered
network.c(1810): multicast receiver address=0.0.0.0, port=4532
*1:network.c(1819):network_multicast_receiver_start returning(0) 
*1:event.c(272):rig_poll_routine_start entered
*1:event.c(312):rig_poll_routine_start returning(0) 
rig.c(303):add_opened_rig entered
rig.c(315):add_opened_rig returning2(0) 
rig.c(1656):rig_open returning2(0) 
event.c(85): Starting rig poll routine thread
*1:rig.c(6899):rig_get_powerstat entered
**2:kenwood.c(5382):kenwood_get_powerstat entered
kenwood_safe_transaction called, cmd=PS, expected=3
kenwood_transaction called cmd=PS
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
**2:kenwood.c(5428):kenwood_get_powerstat returning(0) 
*1:rig.c(6926):rig_get_powerstat returning(0) 
Backend version: 20250515.3, Status: Stable
rigctl_parse.c(2370):rigctl_set_vfo entered
rig_parse_vfo called
*1:rig.c(3321):rig_set_vfo entered
rig_set_vfo called vfo=VFOA
**2:rig.c(3463):rig_get_vfo entered
**2:rig_get_vfo: elapsed=0ms
**2:rig.c(3492):rig_get_vfo returning(0) 
rig_lock: client lock engaged
**2:kenwood.c(1261):kenwood_set_vfo entered
kenwood_set_vfo called vfo=VFOA, is_emulation=0, curr_mode=
kenwood_transaction called cmd=FR0
kenwood_transaction: wrong reply ;  for command verification ID
kenwood.c(713):kenwood_transaction returning2(0) 
**2:kenwood.c(1439):kenwood_set_vfo returning(0) 
**2:kenwood.c(2056):kenwood_get_freq entered
kenwood_safe_transaction called, cmd=FA, expected=13
kenwood_transaction called cmd=FA
kenwood_transaction: wrong reply ;  for command FA
kenwood_transaction: retry_read=0, rp->retry=3
kenwood_transaction: wrong reply ID for command FA
kenwood_transaction: retry_read=1, rp->retry=3
kenwood.c(713):kenwood_transaction returning2(0) 
kenwood.c(791):kenwood_safe_transaction returning2(0) 
**2:kenwood.c(2126):kenwood_get_freq returning(0) 
*1:rig_set_vfo: elapsed=34ms
rig_lock: client lock disengaged
*1:rig.c(3429):rig_set_vfo returning(0) 
rigctl_parse.c(2413):rigctl_set_vfo returning2(0) 
Opened rig model 2028, 'TS-480'
*1:rig.c(1685):rig_close entered
**2:rig.c(8550):morse_data_handler_stop entered
**2:rig.c(8596):morse_data_handler_stop returning(0) 
**2:rig.c(8509):async_data_handler_stop entered
**2:rig.c(8540):async_data_handler_stop returning(0) 
**2:event.c(327):rig_poll_routine_stop entered
event.c(253): Stopping rig poll routine thread
**2:event.c(362):rig_poll_routine_stop returning(0) 
**2:network.c(1908):network_multicast_receiver_stop entered
**2:network.c(1917):network_multicast_receiver_stop returning(0) 
**2:network.c(1740):network_multicast_publisher_stop entered
**2:network.c(1749):network_multicast_publisher_stop returning(0) 
ser_close: restoring options
rig_close(1830): 0x612ee654be34 rs->comm_state==0?=0
*1:rig.c(1834):rig_close returning(0) 
*1:kenwood.c(904):kenwood_cleanup entered
*1:kenwood.c(909):kenwood_cleanup returning(0) 

=== JS8Call Testing Procedure ===
Date: Thu Jul 10 09:11:10 AM EDT 2025

Manual steps to test JS8Call with trusdx_cat:
1. Open JS8Call application
2. Go to Settings → Radio
3. Select 'Kenwood TS-480' from radio dropdown
4. Set CAT Control:
   - CAT port: /tmp/trusdx_cat
   - Baud rate: (default)
   - Data bits: 8
   - Stop bits: 1 
   - Handshake: None
5. Click 'Test CAT' button
6. Click 'Test PTT' button
7. Verify frequency control works

Expected results:
- No 'unsupported VFO None' errors
- CAT test should pass
- PTT test should pass
- Frequency display should update correctly

Note: JS8Call is a GUI application and requires manual testing.
The above steps have been documented for the user to perform.
